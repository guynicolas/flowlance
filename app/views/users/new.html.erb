<script type="text/javascript" src="https://js.stripe.com/v2/"></script>
<script type="text/javascript">
Stripe.setPublishableKey("#{ENV["stripe_publishable_key"]}");
</script>
<%= javascript_include_tag 'payment' %>
<p class='text-center lead'>
  Please Register Here
</p>
<div class='main-content'>
  <div class='container'>
    <div class='row'>
      <div class='col-md-6 col-md-offset-3'>
        <%= form_for @user, html: { class: "horizontal-form", id: "payment-form" } do |f|   %> 
          <%= render "shared/errors", obj: @user %> 
          <div class='form-group'>
            <%= f.label :name, nil, class: 'col-sm-2 control-label' %>  
            <div class='col-sm-10'>
              <%= f.text_field :name, class: "form-control", placeholder: "Name" %> 
            </div>
          </div>
          <div class='form-group'>
            <%= f.label :email, nil, class: "col-sm-2 control-label" %> 
            <div class="col-sm-10">
              <%= f.text_field :email, class: "form-control", placeholder: "Email" %> 
            </div> 
          </div>
          <div class='form-group'>
            <%= f.label :password, nil, class: "col-sm-2 control-label" %> 
            <div class='col-sm-10'>
              <%= f.password_field :password, class: "form-control", placeholder: "Password" %>
            </div>
          </div>
          <span class='payment-errors'></span>
          <div class='form-group'>
            <label for='credit-card-number' class='col-sm-2 control-label'>Card Number</label>
            <div class='col-sm-10'>
              <input type='text'  data-stripe= 'number' class='form-control' id='credit-card-number' placeholder='Card Number'>
            </div>
          </div>
          <div class='form-group'>
            <label for='security-code' class='col-sm-2 control-label'>Security Code</label>
            <div class='col-sm-10'>
              <input type='text'  data-stripe='cvc' class='form-control' id='security-code' placeholder='Security Code'>
            </div>
          </div>
          <div class='form-group'>
            <label class='col-sm-2 control-label'>Expiration Date</label>
            <div class='col-sm-10'>
              <%= select_month(Date.today, { add_month_numbers: true }, class: 'form-control', data: {stripe: "exp-month"}) %>
              <%= select_year(Date.today.year, { start_year:  Date.today.year, end_year: Date.today.year + 4 }, class: 'form-control', data: {stripe: "exp-year"}) %>
            </div>
          </div>    
          <div class='col-md-offset-2'>
            <div class='form-group'>
              <div class='col-sm-offeset-2 col-sm-10'>
                <button type='submit' class='btn btn-primary'>Register</button>
              </div>
            </div>
          </div>
        <% end %> 
      </div>
    </div> <!-- row -->
  </div>  <!-- container -->
</div> <!-- main-content -->